@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase

@{
    ViewBag.Title = "Contact Form";
    Layout = "Views/Shared/_Layout.cshtml";
}

<div class="row">
    <h3>Simple.CRUD</h3>
    <h4>@ViewBag.FormTitle</h4>
</div>
<div class="row">
<form class="crud-form">     
    <!-- hidden fields that hold variables for the server -->
    <input name="Id" type="hidden" readonly value="@if(Model!=null){@Model.Id}" />
    <input name="tablename" type="hidden" readonly value="@ViewBag.TableName" />
    <input name="lastupdated" type="hidden" readonly value="@DateTime.Now" />
    <input name="method" type="hidden" readonly value="@ViewBag.Method" />
      
    <div class="form-group">
        <label for="name">Full Name</label>
        <input class="form-control" id="name" name="name" value="@if(Model!=null){@Model.Name}" type="text" />
    </div>                                                                                 
    <div class="form-group">
        <label for="email">Email Address</label>
        <input class="form-control" id="email" name="email" type="email" value="@if(Model!=null){@Model.Email}" />
    </div>                                                                                       
    <div class="form-group">
        <label for="message">Enter a Message</label>
        <textarea class="form-control" id="message" name="message" rows="4" cols="60">
            @if (Model != null){@Model.Message}
        </textarea>
    </div>
    <button class="btn btn-primary" type="submit">Save!</button>
    @Html.AntiForgeryToken()
</form>
</div>

<div class="row">       
    <div class="results">
        <h3>Form data as Json</h3>
        <pre class="alert-info"><code class="results_display"></code></pre>
    </div>

    <div class="response">
        <h3>Server POST response</h3>
        <pre class="alert-info"><code class="response_display"></code></pre>
    </div>
</div>


